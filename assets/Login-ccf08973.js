import{d as b,r as d,a as y,c as w,b as t,g as s,f as r,i as B,y as g,F as E,bx as F,by as q,bz as h,q as C,p as I,k as R,bA as A,u as N,bB as $,_ as L}from"./index-43fa284a.js";/* empty css                     */import{r as P,e as U}from"./validate-14f65514.js";import{_ as T}from"./EInputPhoneNumber.vue_vue_type_script_setup_true_lang-a72daaf7.js";import{E as j,a as z}from"./index-c461f170.js";import{E as D}from"./index-4dd40978.js";import"./event-9519ab40.js";const f=l=>(I("data-v-41025798"),l=l(),R(),l),H={class:"form p-32"},M=F('<div class="form__container" style="text-align:center;" data-v-41025798><img src="'+A+'" alt="" class="mb-24" data-v-41025798><div class="form__title mb-24" data-v-41025798>Đăng nhập</div><p class="text" data-v-41025798> Chào mừng bạn đến với <span class="text__brand" data-v-41025798> SOHA EXPRESS</span></p></div>',1),O=f(()=>t("i",{class:"icon-mobile"},null,-1)),Q=f(()=>t("i",{class:"icon-lock"},null,-1)),X={class:"footer d-flex align-items-center justify-between",style:{"background-color":"#f3f4f5"}},G={class:""},J=f(()=>t("span",{class:"form__link"},"Quên mật khẩu",-1)),K=b({__name:"LoginFormAccount",setup(l){const m=d(),p=N(),k=new $,x=d({email:[P({required:!0,trigger:"change",message:"Số đện thoại hoặc email là bắt buộc"})],password:[U({required:!0,trigger:"change"})]}),e=d({email:"",password:""}),v=d(!1),S=()=>p.pushByPath("/auth/register"),V=async _=>{_&&(e.value={...e.value,email:e.value.email.trim()},await _.validate(async o=>{if(o)try{v.value=!0;const a={username:e.value.email,password:e.value.password},{code:n,data:c,message:u}=await q.login(a);return console.log(n,c,u),n==="200"?(k.setToken(c.token),h({code:n,message:"Đăng nhập thành công"}),await p.pushByPath("/dashboard")):h({code:n,message:u})}catch(a){console.log(a)}finally{v.value=!1}}))};return(_,o)=>{const a=j,n=D,c=C,u=z;return y(),w(E,null,[t("div",H,[M,s(u,{ref_key:"formRef",ref:m,model:e.value,rules:x.value,"label-position":"top"},{default:r(()=>[s(a,{required:"",class:"mb-24",prop:"email"},{default:r(()=>[s(B(T),{placeholder:"Nhập số điện thoại",modelValue:e.value.email,"onUpdate:modelValue":o[0]||(o[0]=i=>e.value.email=i)},{prefix:r(()=>[O]),_:1},8,["modelValue"])]),_:1}),s(a,{required:"",class:"mb-18",prop:"password"},{default:r(()=>[s(n,{type:"password",placeholder:"Mật khẩu",modelValue:e.value.password,"onUpdate:modelValue":o[1]||(o[1]=i=>e.value.password=i),"show-password":""},{prefix:r(()=>[Q]),_:1},8,["modelValue"])]),_:1}),s(c,{class:"form__btn w-full mt-24",type:"primary",onClick:o[2]||(o[2]=i=>V(m.value))},{default:r(()=>[g("Đăng nhập ")]),_:1})]),_:1},8,["model","rules"])]),t("div",X,[t("p",G,[g(" Bạn chưa có tài khoản?"),t("span",{style:{color:"#dc3545",cursor:"pointer"},onClick:o[3]||(o[3]=i=>S())}," Đăng ký")]),J])],64)}}});const W=L(K,[["__scopeId","data-v-41025798"]]),Y={class:"login"},re=b({__name:"Login",setup(l){return(m,p)=>(y(),w("div",Y,[s(W)]))}});export{re as default};
