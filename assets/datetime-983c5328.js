import{am as je,an as jt,al as j,ao as Et,ap as Se,C as Ce,D as ie,aq as da,ar as fa,d as Ve,as as Ne,K as Te,a7 as va,O as He,r as q,I as xe,ah as Ie,ad as Nt,L as E,at as pa,au as ma,a8 as ha,i as e,av as ya,J as kt,a as T,e as De,f as se,v as b,ag as Ft,V as Ee,S as he,ae as dt,h as pe,c as L,b as B,M as rt,t as fe,aw as Gt,j as ba,N as Be,ax as ke,ay as ut,m as ga,F as be,A as _e,y as Ue,w as Ye,g as F,az as ka,aA as wa,aB as Da,aC as Sa,Q as lt,aD as qt,aE as Zt,aF as Jt,aG as Ca,aH as st,T as at,aI as it,aJ as wt,R as pt,aK as ct,q as ht,a6 as Xt,l as Ma}from"./index-43fa284a.js";import{E as qe}from"./index-4dd40978.js";import{f as Pa}from"./flatten-2355c2af.js";import{i as _a,d as $a,E as Ta,C as Dt}from"./index-45ffb881.js";const Va=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],Ze=o=>!o&&o!==0?[]:Array.isArray(o)?o:[o];var St={},Oa={get exports(){return St},set exports(o){St=o}};(function(o,c){(function(a,t){o.exports=t()})(je,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,f=/\d\d/,p=/\d\d?/,k=/\d*[^-_:/,()\s\d]+/,g={},M=function(l){return(l=+l)+(l>68?1900:2e3)},S=function(l){return function(m){this[l]=+m}},A=[/[+-]\d\d:?(\d\d)?|Z/,function(l){(this.zone||(this.zone={})).offset=function(m){if(!m||m==="Z")return 0;var x=m.match(/([+-]|\d\d)/g),P=60*x[1]+(+x[2]||0);return P===0?0:x[0]==="+"?-P:P}(l)}],C=function(l){var m=g[l];return m&&(m.indexOf?m:m.s.concat(m.f))},h=function(l,m){var x,P=g.meridiem;if(P){for(var d=1;d<=24;d+=1)if(l.indexOf(P(d,0,m))>-1){x=d>12;break}}else x=l===(m?"pm":"PM");return x},r={A:[k,function(l){this.afternoon=h(l,!1)}],a:[k,function(l){this.afternoon=h(l,!0)}],S:[/\d/,function(l){this.milliseconds=100*+l}],SS:[f,function(l){this.milliseconds=10*+l}],SSS:[/\d{3}/,function(l){this.milliseconds=+l}],s:[p,S("seconds")],ss:[p,S("seconds")],m:[p,S("minutes")],mm:[p,S("minutes")],H:[p,S("hours")],h:[p,S("hours")],HH:[p,S("hours")],hh:[p,S("hours")],D:[p,S("day")],DD:[f,S("day")],Do:[k,function(l){var m=g.ordinal,x=l.match(/\d+/);if(this.day=x[0],m)for(var P=1;P<=31;P+=1)m(P).replace(/\[|\]/g,"")===l&&(this.day=P)}],M:[p,S("month")],MM:[f,S("month")],MMM:[k,function(l){var m=C("months"),x=(C("monthsShort")||m.map(function(P){return P.slice(0,3)})).indexOf(l)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[k,function(l){var m=C("months").indexOf(l)+1;if(m<1)throw new Error;this.month=m%12||m}],Y:[/[+-]?\d+/,S("year")],YY:[f,function(l){this.year=M(l)}],YYYY:[/\d{4}/,S("year")],Z:A,ZZ:A};function w(l){var m,x;m=l,x=g&&g.formats;for(var P=(l=m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Z,H,ee){var oe=ee&&ee.toUpperCase();return H||x[ee]||a[ee]||x[oe].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(K,te,ce){return te||ce.slice(1)})})).match(t),d=P.length,$=0;$<d;$+=1){var N=P[$],z=r[N],G=z&&z[0],I=z&&z[1];P[$]=I?{regex:G,parser:I}:N.replace(/^\[|\]$/g,"")}return function(Z){for(var H={},ee=0,oe=0;ee<d;ee+=1){var K=P[ee];if(typeof K=="string")oe+=K.length;else{var te=K.regex,ce=K.parser,ve=Z.slice(oe),U=te.exec(ve)[0];ce.call(H,U),Z=Z.replace(U,"")}}return function(Y){var i=Y.afternoon;if(i!==void 0){var D=Y.hours;i?D<12&&(Y.hours+=12):D===12&&(Y.hours=0),delete Y.afternoon}}(H),H}}return function(l,m,x){x.p.customParseFormat=!0,l&&l.parseTwoDigitYear&&(M=l.parseTwoDigitYear);var P=m.prototype,d=P.parse;P.parse=function($){var N=$.date,z=$.utc,G=$.args;this.$u=z;var I=G[1];if(typeof I=="string"){var Z=G[2]===!0,H=G[3]===!0,ee=Z||H,oe=G[2];H&&(oe=G[2]),g=this.$locale(),!Z&&oe&&(g=x.Ls[oe]),this.$d=function(ve,U,Y){try{if(["x","X"].indexOf(U)>-1)return new Date((U==="X"?1e3:1)*ve);var i=w(U)(ve),D=i.year,R=i.month,s=i.day,_=i.hours,W=i.minutes,J=i.seconds,X=i.milliseconds,de=i.zone,ne=new Date,re=s||(D||R?1:ne.getDate()),le=D||ne.getFullYear(),Pe=0;D&&!R||(Pe=R>0?R-1:ne.getMonth());var ye=_||0,Me=W||0,we=J||0,Fe=X||0;return de?new Date(Date.UTC(le,Pe,re,ye,Me,we,Fe+60*de.offset*1e3)):Y?new Date(Date.UTC(le,Pe,re,ye,Me,we,Fe)):new Date(le,Pe,re,ye,Me,we,Fe)}catch{return new Date("")}}(N,I,z),this.init(),oe&&oe!==!0&&(this.$L=this.locale(oe).$L),ee&&N!=this.format(I)&&(this.$d=new Date("")),g={}}else if(I instanceof Array)for(var K=I.length,te=1;te<=K;te+=1){G[1]=I[te-1];var ce=x.apply(this,G);if(ce.isValid()){this.$d=ce.$d,this.$L=ce.$L,this.init();break}te===K&&(this.$d=new Date(""))}else d.call(this,$)}}})})(Oa);const xa=St,Lt=["hours","minutes","seconds"],Bt="HH:mm:ss",nt="YYYY-MM-DD",Ia={date:nt,dates:nt,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${nt} ${Bt}`,monthrange:"YYYY-MM",daterange:nt,datetimerange:`${nt} ${Bt}`},yt=(o,c)=>[o>0?o-1:void 0,o,o<c?o+1:void 0],Qt=o=>Array.from(Array.from({length:o}).keys()),ea=o=>o.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),ta=o=>o.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),Wt=function(o,c){const a=Et(o),t=Et(c);return a&&t?o.getTime()===c.getTime():!a&&!t?o===c:!1},zt=function(o,c){const a=Se(o),t=Se(c);return a&&t?o.length!==c.length?!1:o.every((f,p)=>Wt(f,c[p])):!a&&!t?Wt(o,c):!1},Kt=function(o,c,a){const t=jt(c)||c==="x"?j(o).locale(a):j(o,c).locale(a);return t.isValid()?t:void 0},Ut=function(o,c,a){return jt(c)?o:c==="x"?+o:j(o).locale(a).format(c)},bt=(o,c)=>{var a;const t=[],f=c==null?void 0:c();for(let p=0;p<o;p++)t.push((a=f==null?void 0:f.includes(p))!=null?a:!1);return t},aa=Ce({disabledHours:{type:ie(Function)},disabledMinutes:{type:ie(Function)},disabledSeconds:{type:ie(Function)}}),Ya=Ce({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),na=Ce({id:{type:ie([Array,String])},name:{type:ie([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ie([String,Object]),default:da},editable:{type:Boolean,default:!0},prefixIcon:{type:ie([String,Object]),default:""},size:fa,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:ie(Object),default:()=>({})},modelValue:{type:ie([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ie([Date,Array])},defaultTime:{type:ie([Date,Array])},isRange:{type:Boolean,default:!1},...aa,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:ie([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Ra=["id","name","placeholder","value","disabled","readonly"],Aa=["id","name","placeholder","value","disabled","readonly"],Ea=Ve({name:"Picker"}),Na=Ve({...Ea,props:na,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(o,{expose:c,emit:a}){const t=o,{lang:f}=Ne(),p=Te("date"),k=Te("input"),g=Te("range"),{form:M,formItem:S}=va(),A=He("ElPopperOptions",{}),C=q(),h=q(),r=q(!1),w=q(!1),l=q(null);let m=!1,x=!1;xe(r,n=>{n?Ie(()=>{n&&(l.value=t.modelValue)}):(ae.value=null,Ie(()=>{P(t.modelValue)}))});const P=(n,u)=>{(u||!zt(n,l.value))&&(a("change",n),t.validateEvent&&(S==null||S.validate("change").catch(y=>Nt())))},d=n=>{if(!zt(t.modelValue,n)){let u;Se(n)?u=n.map(y=>Ut(y,t.valueFormat,f.value)):n&&(u=Ut(n,t.valueFormat,f.value)),a("update:modelValue",n&&u,f.value)}},$=n=>{a("keydown",n)},N=E(()=>{if(h.value){const n=Me.value?h.value:h.value.$el;return Array.from(n.querySelectorAll("input"))}return[]}),z=(n,u,y)=>{const V=N.value;V.length&&(!y||y==="min"?(V[0].setSelectionRange(n,u),V[0].focus()):y==="max"&&(V[1].setSelectionRange(n,u),V[1].focus()))},G=()=>{ce(!0,!0),Ie(()=>{x=!1})},I=(n="",u=!1)=>{u||(x=!0),r.value=u;let y;Se(n)?y=n.map(V=>V.toDate()):y=n&&n.toDate(),ae.value=null,d(y)},Z=()=>{w.value=!0},H=()=>{a("visible-change",!0)},ee=n=>{(n==null?void 0:n.key)===ke.esc&&ce(!0,!0)},oe=()=>{w.value=!1,r.value=!1,x=!1,a("visible-change",!1)},K=()=>{r.value=!0},te=()=>{r.value=!1},ce=(n=!0,u=!1)=>{x=u;const[y,V]=e(N);let ge=y;!n&&Me.value&&(ge=V),ge&&ge.focus()},ve=n=>{t.readonly||i.value||r.value||x||(r.value=!0,a("focus",n))};let U;const Y=n=>{const u=async()=>{setTimeout(()=>{var y;U===u&&(!((y=C.value)!=null&&y.isFocusInsideContent()&&!m)&&N.value.filter(V=>V.contains(document.activeElement)).length===0&&(We(),r.value=!1,a("blur",n),t.validateEvent&&(S==null||S.validate("blur").catch(V=>Nt()))),m=!1)},0)};U=u,u()},i=E(()=>t.disabled||(M==null?void 0:M.disabled)),D=E(()=>{let n;if(ne.value?me.value.getDefaultValue&&(n=me.value.getDefaultValue()):Se(t.modelValue)?n=t.modelValue.map(u=>Kt(u,t.valueFormat,f.value)):n=Kt(t.modelValue,t.valueFormat,f.value),me.value.getRangeAvailableTime){const u=me.value.getRangeAvailableTime(n);_a(u,n)||(n=u,d(Se(n)?n.map(y=>y.toDate()):n.toDate()))}return Se(n)&&n.some(u=>!u)&&(n=[]),n}),R=E(()=>{if(!me.value.panelReady)return"";const n=Oe(D.value);return Se(ae.value)?[ae.value[0]||n&&n[0]||"",ae.value[1]||n&&n[1]||""]:ae.value!==null?ae.value:!_.value&&ne.value||!r.value&&ne.value?"":n?W.value?n.join(", "):n:""}),s=E(()=>t.type.includes("time")),_=E(()=>t.type.startsWith("time")),W=E(()=>t.type==="dates"),J=E(()=>t.prefixIcon||(s.value?pa:ma)),X=q(!1),de=n=>{t.readonly||i.value||X.value&&(n.stopPropagation(),G(),d(null),P(null,!0),X.value=!1,r.value=!1,me.value.handleClear&&me.value.handleClear())},ne=E(()=>{const{modelValue:n}=t;return!n||Se(n)&&!n.filter(Boolean).length}),re=async n=>{var u;t.readonly||i.value||(((u=n.target)==null?void 0:u.tagName)!=="INPUT"||N.value.includes(document.activeElement))&&(r.value=!0)},le=()=>{t.readonly||i.value||!ne.value&&t.clearable&&(X.value=!0)},Pe=()=>{X.value=!1},ye=n=>{var u;t.readonly||i.value||(((u=n.touches[0].target)==null?void 0:u.tagName)!=="INPUT"||N.value.includes(document.activeElement))&&(r.value=!0)},Me=E(()=>t.type.includes("range")),we=ha(),Fe=E(()=>{var n,u;return(u=(n=e(C))==null?void 0:n.popperRef)==null?void 0:u.contentRef}),Re=E(()=>{var n;return e(Me)?e(h):(n=e(h))==null?void 0:n.$el});ya(Re,n=>{const u=e(Fe),y=e(Re);u&&(n.target===u||n.composedPath().includes(u))||n.target===y||n.composedPath().includes(y)||(r.value=!1)});const ae=q(null),We=()=>{if(ae.value){const n=$e(R.value);n&&ze(n)&&(d(Se(n)?n.map(u=>u.toDate()):n.toDate()),ae.value=null)}ae.value===""&&(d(null),P(null),ae.value=null)},$e=n=>n?me.value.parseUserInput(n):null,Oe=n=>n?me.value.formatToString(n):null,ze=n=>me.value.isValidValue(n),Je=async n=>{if(t.readonly||i.value)return;const{code:u}=n;if($(n),u===ke.esc){r.value===!0&&(r.value=!1,n.preventDefault(),n.stopPropagation());return}if(u===ke.down&&(me.value.handleFocusPicker&&(n.preventDefault(),n.stopPropagation()),r.value===!1&&(r.value=!0,await Ie()),me.value.handleFocusPicker)){me.value.handleFocusPicker();return}if(u===ke.tab){m=!0;return}if(u===ke.enter||u===ke.numpadEnter){(ae.value===null||ae.value===""||ze($e(R.value)))&&(We(),r.value=!1),n.stopPropagation();return}if(ae.value){n.stopPropagation();return}me.value.handleKeydownInput&&me.value.handleKeydownInput(n)},Xe=n=>{ae.value=n,r.value||(r.value=!0)},Ke=n=>{const u=n.target;ae.value?ae.value=[u.value,ae.value[1]]:ae.value=[u.value,null]},Le=n=>{const u=n.target;ae.value?ae.value=[ae.value[0],u.value]:ae.value=[null,u.value]},Qe=()=>{var n;const u=ae.value,y=$e(u&&u[0]),V=e(D);if(y&&y.isValid()){ae.value=[Oe(y),((n=R.value)==null?void 0:n[1])||null];const ge=[y,V&&(V[1]||null)];ze(ge)&&(d(ge),ae.value=null)}},et=()=>{var n;const u=e(ae),y=$e(u&&u[1]),V=e(D);if(y&&y.isValid()){ae.value=[((n=e(R))==null?void 0:n[0])||null,Oe(y)];const ge=[V&&V[0],y];ze(ge)&&(d(ge),ae.value=null)}},me=q({}),v=n=>{me.value[n[0]]=n[1],me.value.panelReady=!0},O=n=>{a("calendar-change",n)},Q=(n,u,y)=>{a("panel-change",n,u,y)};return kt("EP_PICKER_BASE",{props:t}),c({focus:ce,handleFocusInput:ve,handleBlurInput:Y,handleOpen:K,handleClose:te,onPick:I}),(n,u)=>(T(),De(e(ba),Gt({ref_key:"refPopper",ref:C,visible:r.value,effect:"light",pure:"",trigger:"click"},n.$attrs,{role:"dialog",teleported:"",transition:`${e(p).namespace.value}-zoom-in-top`,"popper-class":[`${e(p).namespace.value}-picker__popper`,n.popperClass],"popper-options":e(A),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:Z,onShow:H,onHide:oe}),{default:se(()=>[e(Me)?(T(),L("div",{key:1,ref_key:"inputRef",ref:h,class:b([e(p).b("editor"),e(p).bm("editor",n.type),e(k).e("wrapper"),e(p).is("disabled",e(i)),e(p).is("active",r.value),e(g).b("editor"),e(we)?e(g).bm("editor",e(we)):"",n.$attrs.class]),style:Ft(n.$attrs.style),onClick:ve,onMouseenter:le,onMouseleave:Pe,onTouchstart:ye,onKeydown:Je},[e(J)?(T(),De(e(he),{key:0,class:b([e(k).e("icon"),e(g).e("icon")]),onMousedown:Ee(re,["prevent"]),onTouchstart:ye},{default:se(()=>[(T(),De(dt(e(J))))]),_:1},8,["class","onMousedown"])):pe("v-if",!0),B("input",{id:n.id&&n.id[0],autocomplete:"off",name:n.name&&n.name[0],placeholder:n.startPlaceholder,value:e(R)&&e(R)[0],disabled:e(i),readonly:!n.editable||n.readonly,class:b(e(g).b("input")),onMousedown:re,onInput:Ke,onChange:Qe,onFocus:ve,onBlur:Y},null,42,Ra),rt(n.$slots,"range-separator",{},()=>[B("span",{class:b(e(g).b("separator"))},fe(n.rangeSeparator),3)]),B("input",{id:n.id&&n.id[1],autocomplete:"off",name:n.name&&n.name[1],placeholder:n.endPlaceholder,value:e(R)&&e(R)[1],disabled:e(i),readonly:!n.editable||n.readonly,class:b(e(g).b("input")),onMousedown:re,onFocus:ve,onBlur:Y,onInput:Le,onChange:et},null,42,Aa),n.clearIcon?(T(),De(e(he),{key:1,class:b([e(k).e("icon"),e(g).e("close-icon"),{[e(g).e("close-icon--hidden")]:!X.value}]),onClick:de},{default:se(()=>[(T(),De(dt(n.clearIcon)))]),_:1},8,["class"])):pe("v-if",!0)],38)):(T(),De(e(qe),{key:0,id:n.id,ref_key:"inputRef",ref:h,"container-role":"combobox","model-value":e(R),name:n.name,size:e(we),disabled:e(i),placeholder:n.placeholder,class:b([e(p).b("editor"),e(p).bm("editor",n.type),n.$attrs.class]),style:Ft(n.$attrs.style),readonly:!n.editable||n.readonly||e(W)||n.type==="week",label:n.label,tabindex:n.tabindex,"validate-event":!1,onInput:Xe,onFocus:ve,onBlur:Y,onKeydown:Je,onChange:We,onMousedown:re,onMouseenter:le,onMouseleave:Pe,onTouchstart:ye,onClick:u[0]||(u[0]=Ee(()=>{},["stop"]))},{prefix:se(()=>[e(J)?(T(),De(e(he),{key:0,class:b(e(k).e("icon")),onMousedown:Ee(re,["prevent"]),onTouchstart:ye},{default:se(()=>[(T(),De(dt(e(J))))]),_:1},8,["class","onMousedown"])):pe("v-if",!0)]),suffix:se(()=>[X.value&&n.clearIcon?(T(),De(e(he),{key:0,class:b(`${e(k).e("icon")} clear-icon`),onClick:Ee(de,["stop"])},{default:se(()=>[(T(),De(dt(n.clearIcon)))]),_:1},8,["class","onClick"])):pe("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:se(()=>[rt(n.$slots,"default",{visible:r.value,actualVisible:w.value,parsedValue:e(D),format:n.format,unlinkPanels:n.unlinkPanels,type:n.type,defaultValue:n.defaultValue,onPick:I,onSelectRange:z,onSetPickerOption:v,onCalendarChange:O,onPanelChange:Q,onKeydown:ee,onMousedown:u[1]||(u[1]=Ee(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var Fa=Be(Na,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const La=Ce({...Ya,datetimeRole:String,parsedValue:{type:ie(Object)}}),Ba=({getAvailableHours:o,getAvailableMinutes:c,getAvailableSeconds:a})=>{const t=(k,g,M,S)=>{const A={hour:o,minute:c,second:a};let C=k;return["hour","minute","second"].forEach(h=>{if(A[h]){let r;const w=A[h];switch(h){case"minute":{r=w(C.hour(),g,S);break}case"second":{r=w(C.hour(),C.minute(),g,S);break}default:{r=w(g,S);break}}if(r!=null&&r.length&&!r.includes(C[h]())){const l=M?0:r.length-1;C=C[h](r[l])}}}),C},f={};return{timePickerOptions:f,getAvailableTime:t,onSetOption:([k,g])=>{f[k]=g}}},gt=o=>{const c=(t,f)=>t||f,a=t=>t!==!0;return o.map(c).filter(a)},la=(o,c,a)=>({getHoursList:(k,g)=>bt(24,o&&(()=>o==null?void 0:o(k,g))),getMinutesList:(k,g,M)=>bt(60,c&&(()=>c==null?void 0:c(k,g,M))),getSecondsList:(k,g,M,S)=>bt(60,a&&(()=>a==null?void 0:a(k,g,M,S)))}),Wa=(o,c,a)=>{const{getHoursList:t,getMinutesList:f,getSecondsList:p}=la(o,c,a);return{getAvailableHours:(S,A)=>gt(t(S,A)),getAvailableMinutes:(S,A,C)=>gt(f(S,A,C)),getAvailableSeconds:(S,A,C,h)=>gt(p(S,A,C,h))}},za=o=>{const c=q(o.parsedValue);return xe(()=>o.visible,a=>{a||(c.value=o.parsedValue)}),c},Ka=100,Ua=600,Ht={beforeMount(o,c){const a=c.value,{interval:t=Ka,delay:f=Ua}=ut(a)?{}:a;let p,k;const g=()=>ut(a)?a():a.handler(),M=()=>{k&&(clearTimeout(k),k=void 0),p&&(clearInterval(p),p=void 0)};o.addEventListener("mousedown",S=>{S.button===0&&(M(),g(),document.addEventListener("mouseup",()=>M(),{once:!0}),k=setTimeout(()=>{p=setInterval(()=>{g()},t)},f))})}},Ha=Ce({role:{type:String,required:!0},spinnerDate:{type:ie(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ie(String),default:""},...aa}),ja=["onClick"],Ga=["onMouseenter"],qa=Ve({__name:"basic-time-spinner",props:Ha,emits:["change","select-range","set-option"],setup(o,{emit:c}){const a=o,t=Te("time"),{getHoursList:f,getMinutesList:p,getSecondsList:k}=la(a.disabledHours,a.disabledMinutes,a.disabledSeconds);let g=!1;const M=q(),S=q(),A=q(),C=q(),h={hours:S,minutes:A,seconds:C},r=E(()=>a.showSeconds?Lt:Lt.slice(0,2)),w=E(()=>{const{spinnerDate:i}=a,D=i.hour(),R=i.minute(),s=i.second();return{hours:D,minutes:R,seconds:s}}),l=E(()=>{const{hours:i,minutes:D}=e(w);return{hours:f(a.role),minutes:p(i,a.role),seconds:k(i,D,a.role)}}),m=E(()=>{const{hours:i,minutes:D,seconds:R}=e(w);return{hours:yt(i,23),minutes:yt(D,59),seconds:yt(R,59)}}),x=$a(i=>{g=!1,$(i)},200),P=i=>{if(!!!a.amPmMode)return"";const R=a.amPmMode==="A";let s=i<12?" am":" pm";return R&&(s=s.toUpperCase()),s},d=i=>{let D;switch(i){case"hours":D=[0,2];break;case"minutes":D=[3,5];break;case"seconds":D=[6,8];break}const[R,s]=D;c("select-range",R,s),M.value=i},$=i=>{G(i,e(w)[i])},N=()=>{$("hours"),$("minutes"),$("seconds")},z=i=>i.querySelector(`.${t.namespace.value}-scrollbar__wrap`),G=(i,D)=>{if(a.arrowControl)return;const R=e(h[i]);R&&R.$el&&(z(R.$el).scrollTop=Math.max(0,D*I(i)))},I=i=>{const D=e(h[i]);return(D==null?void 0:D.$el.querySelector("li").offsetHeight)||0},Z=()=>{ee(1)},H=()=>{ee(-1)},ee=i=>{M.value||d("hours");const D=M.value,R=e(w)[D],s=M.value==="hours"?24:60,_=oe(D,R,i,s);K(D,_),G(D,_),Ie(()=>d(D))},oe=(i,D,R,s)=>{let _=(D+R+s)%s;const W=e(l)[i];for(;W[_]&&_!==D;)_=(_+R+s)%s;return _},K=(i,D)=>{if(e(l)[i][D])return;const{hours:_,minutes:W,seconds:J}=e(w);let X;switch(i){case"hours":X=a.spinnerDate.hour(D).minute(W).second(J);break;case"minutes":X=a.spinnerDate.hour(_).minute(D).second(J);break;case"seconds":X=a.spinnerDate.hour(_).minute(W).second(D);break}c("change",X)},te=(i,{value:D,disabled:R})=>{R||(K(i,D),d(i),G(i,D))},ce=i=>{g=!0,x(i);const D=Math.min(Math.round((z(e(h[i]).$el).scrollTop-(ve(i)*.5-10)/I(i)+3)/I(i)),i==="hours"?23:59);K(i,D)},ve=i=>e(h[i]).$el.offsetHeight,U=()=>{const i=D=>{const R=e(h[D]);R&&R.$el&&(z(R.$el).onscroll=()=>{ce(D)})};i("hours"),i("minutes"),i("seconds")};ga(()=>{Ie(()=>{!a.arrowControl&&U(),N(),a.role==="start"&&d("hours")})});const Y=(i,D)=>{h[D].value=i};return c("set-option",[`${a.role}_scrollDown`,ee]),c("set-option",[`${a.role}_emitSelectRange`,d]),xe(()=>a.spinnerDate,()=>{g||N()}),(i,D)=>(T(),L("div",{class:b([e(t).b("spinner"),{"has-seconds":i.showSeconds}])},[i.arrowControl?pe("v-if",!0):(T(!0),L(be,{key:0},_e(e(r),R=>(T(),De(e(Ta),{key:R,ref_for:!0,ref:s=>Y(s,R),class:b(e(t).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e(t).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:s=>d(R),onMousemove:s=>$(R)},{default:se(()=>[(T(!0),L(be,null,_e(e(l)[R],(s,_)=>(T(),L("li",{key:_,class:b([e(t).be("spinner","item"),e(t).is("active",_===e(w)[R]),e(t).is("disabled",s)]),onClick:W=>te(R,{value:_,disabled:s})},[R==="hours"?(T(),L(be,{key:0},[Ue(fe(("0"+(i.amPmMode?_%12||12:_)).slice(-2))+fe(P(_)),1)],64)):(T(),L(be,{key:1},[Ue(fe(("0"+_).slice(-2)),1)],64))],10,ja))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),i.arrowControl?(T(!0),L(be,{key:1},_e(e(r),R=>(T(),L("div",{key:R,class:b([e(t).be("spinner","wrapper"),e(t).is("arrow")]),onMouseenter:s=>d(R)},[Ye((T(),De(e(he),{class:b(["arrow-up",e(t).be("spinner","arrow")])},{default:se(()=>[F(e(ka))]),_:1},8,["class"])),[[e(Ht),H]]),Ye((T(),De(e(he),{class:b(["arrow-down",e(t).be("spinner","arrow")])},{default:se(()=>[F(e(wa))]),_:1},8,["class"])),[[e(Ht),Z]]),B("ul",{class:b(e(t).be("spinner","list"))},[(T(!0),L(be,null,_e(e(m)[R],(s,_)=>(T(),L("li",{key:_,class:b([e(t).be("spinner","item"),e(t).is("active",s===e(w)[R]),e(t).is("disabled",e(l)[R][s])])},[typeof s=="number"?(T(),L(be,{key:0},[R==="hours"?(T(),L(be,{key:0},[Ue(fe(("0"+(i.amPmMode?s%12||12:s)).slice(-2))+fe(P(s)),1)],64)):(T(),L(be,{key:1},[Ue(fe(("0"+s).slice(-2)),1)],64))],64)):pe("v-if",!0)],2))),128))],2)],42,Ga))),128)):pe("v-if",!0)],2))}});var Za=Be(qa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Ja=Ve({__name:"panel-time-pick",props:La,emits:["pick","select-range","set-picker-option"],setup(o,{emit:c}){const a=o,t=He("EP_PICKER_BASE"),{arrowControl:f,disabledHours:p,disabledMinutes:k,disabledSeconds:g,defaultValue:M}=t.props,{getAvailableHours:S,getAvailableMinutes:A,getAvailableSeconds:C}=Wa(p,k,g),h=Te("time"),{t:r,lang:w}=Ne(),l=q([0,2]),m=za(a),x=E(()=>Da(a.actualVisible)?`${h.namespace.value}-zoom-in-top`:""),P=E(()=>a.format.includes("ss")),d=E(()=>a.format.includes("A")?"A":a.format.includes("a")?"a":""),$=Y=>{const i=j(Y).locale(w.value),D=te(i);return i.isSame(D)},N=()=>{c("pick",m.value,!1)},z=(Y=!1,i=!1)=>{i||c("pick",a.parsedValue,Y)},G=Y=>{if(!a.visible)return;const i=te(Y).millisecond(0);c("pick",i,!0)},I=(Y,i)=>{c("select-range",Y,i),l.value=[Y,i]},Z=Y=>{const i=[0,3].concat(P.value?[6]:[]),D=["hours","minutes"].concat(P.value?["seconds"]:[]),s=(i.indexOf(l.value[0])+Y+i.length)%i.length;ee.start_emitSelectRange(D[s])},H=Y=>{const i=Y.code,{left:D,right:R,up:s,down:_}=ke;if([D,R].includes(i)){Z(i===D?-1:1),Y.preventDefault();return}if([s,_].includes(i)){const W=i===s?-1:1;ee.start_scrollDown(W),Y.preventDefault();return}},{timePickerOptions:ee,onSetOption:oe,getAvailableTime:K}=Ba({getAvailableHours:S,getAvailableMinutes:A,getAvailableSeconds:C}),te=Y=>K(Y,a.datetimeRole||"",!0),ce=Y=>Y?j(Y,a.format).locale(w.value):null,ve=Y=>Y?Y.format(a.format):null,U=()=>j(M).locale(w.value);return c("set-picker-option",["isValidValue",$]),c("set-picker-option",["formatToString",ve]),c("set-picker-option",["parseUserInput",ce]),c("set-picker-option",["handleKeydownInput",H]),c("set-picker-option",["getRangeAvailableTime",te]),c("set-picker-option",["getDefaultValue",U]),(Y,i)=>(T(),De(Sa,{name:e(x)},{default:se(()=>[Y.actualVisible||Y.visible?(T(),L("div",{key:0,class:b(e(h).b("panel"))},[B("div",{class:b([e(h).be("panel","content"),{"has-seconds":e(P)}])},[F(Za,{ref:"spinner",role:Y.datetimeRole||"start","arrow-control":e(f),"show-seconds":e(P),"am-pm-mode":e(d),"spinner-date":Y.parsedValue,"disabled-hours":e(p),"disabled-minutes":e(k),"disabled-seconds":e(g),onChange:G,onSetOption:e(oe),onSelectRange:I},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),B("div",{class:b(e(h).be("panel","footer"))},[B("button",{type:"button",class:b([e(h).be("panel","btn"),"cancel"]),onClick:N},fe(e(r)("el.datepicker.cancel")),3),B("button",{type:"button",class:b([e(h).be("panel","btn"),"confirm"]),onClick:i[0]||(i[0]=D=>z())},fe(e(r)("el.datepicker.confirm")),3)],2)],2)):pe("v-if",!0)]),_:1},8,["name"]))}});var Ct=Be(Ja,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),Mt={},Xa={get exports(){return Mt},set exports(o){Mt=o}};(function(o,c){(function(a,t){o.exports=t()})(je,function(){return function(a,t,f){var p=t.prototype,k=function(C){return C&&(C.indexOf?C:C.s)},g=function(C,h,r,w,l){var m=C.name?C:C.$locale(),x=k(m[h]),P=k(m[r]),d=x||P.map(function(N){return N.slice(0,w)});if(!l)return d;var $=m.weekStart;return d.map(function(N,z){return d[(z+($||0))%7]})},M=function(){return f.Ls[f.locale()]},S=function(C,h){return C.formats[h]||function(r){return r.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,l,m){return l||m.slice(1)})}(C.formats[h.toUpperCase()])},A=function(){var C=this;return{months:function(h){return h?h.format("MMMM"):g(C,"months")},monthsShort:function(h){return h?h.format("MMM"):g(C,"monthsShort","months",3)},firstDayOfWeek:function(){return C.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):g(C,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):g(C,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):g(C,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return S(C.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};p.localeData=function(){return A.bind(this)()},f.localeData=function(){var C=M();return{firstDayOfWeek:function(){return C.weekStart||0},weekdays:function(){return f.weekdays()},weekdaysShort:function(){return f.weekdaysShort()},weekdaysMin:function(){return f.weekdaysMin()},months:function(){return f.months()},monthsShort:function(){return f.monthsShort()},longDateFormat:function(h){return S(C,h)},meridiem:C.meridiem,ordinal:C.ordinal}},f.months=function(){return g(M(),"months")},f.monthsShort=function(){return g(M(),"monthsShort","months",3)},f.weekdays=function(C){return g(M(),"weekdays",null,null,C)},f.weekdaysShort=function(C){return g(M(),"weekdaysShort","weekdays",3,C)},f.weekdaysMin=function(C){return g(M(),"weekdaysMin","weekdays",2,C)}}})})(Xa);const Qa=Mt;var Pt={},en={get exports(){return Pt},set exports(o){Pt=o}};(function(o,c){(function(a,t){o.exports=t()})(je,function(){return function(a,t){var f=t.prototype,p=f.format;f.format=function(k){var g=this,M=this.$locale();if(!this.isValid())return p.bind(this)(k);var S=this.$utils(),A=(k||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(C){switch(C){case"Q":return Math.ceil((g.$M+1)/3);case"Do":return M.ordinal(g.$D);case"gggg":return g.weekYear();case"GGGG":return g.isoWeekYear();case"wo":return M.ordinal(g.week(),"W");case"w":case"ww":return S.s(g.week(),C==="w"?1:2,"0");case"W":case"WW":return S.s(g.isoWeek(),C==="W"?1:2,"0");case"k":case"kk":return S.s(String(g.$H===0?24:g.$H),C==="k"?1:2,"0");case"X":return Math.floor(g.$d.getTime()/1e3);case"x":return g.$d.getTime();case"z":return"["+g.offsetName()+"]";case"zzz":return"["+g.offsetName("long")+"]";default:return C}});return p.bind(this)(A)}}})})(en);const tn=Pt;var _t={},an={get exports(){return _t},set exports(o){_t=o}};(function(o,c){(function(a,t){o.exports=t()})(je,function(){var a="week",t="year";return function(f,p,k){var g=p.prototype;g.week=function(M){if(M===void 0&&(M=null),M!==null)return this.add(7*(M-this.week()),"day");var S=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var A=k(this).startOf(t).add(1,t).date(S),C=k(this).endOf(a);if(A.isBefore(C))return 1}var h=k(this).startOf(t).date(S).startOf(a).subtract(1,"millisecond"),r=this.diff(h,a,!0);return r<0?k(this).startOf("week").week():Math.ceil(r)},g.weeks=function(M){return M===void 0&&(M=null),this.week(M)}}})})(an);const nn=_t;var $t={},ln={get exports(){return $t},set exports(o){$t=o}};(function(o,c){(function(a,t){o.exports=t()})(je,function(){return function(a,t){t.prototype.weekYear=function(){var f=this.month(),p=this.week(),k=this.year();return p===1&&f===11?k+1:f===0&&p>=52?k-1:k}}})})(ln);const sn=$t;var Tt={},on={get exports(){return Tt},set exports(o){Tt=o}};(function(o,c){(function(a,t){o.exports=t()})(je,function(){return function(a,t,f){t.prototype.dayOfYear=function(p){var k=Math.round((f(this).startOf("day")-f(this).startOf("year"))/864e5)+1;return p==null?k:this.add(p-k,"day")}}})})(on);const rn=Tt;var Vt={},un={get exports(){return Vt},set exports(o){Vt=o}};(function(o,c){(function(a,t){o.exports=t()})(je,function(){return function(a,t){t.prototype.isSameOrAfter=function(f,p){return this.isSame(f,p)||this.isAfter(f,p)}}})})(un);const cn=Vt;var Ot={},dn={get exports(){return Ot},set exports(o){Ot=o}};(function(o,c){(function(a,t){o.exports=t()})(je,function(){return function(a,t){t.prototype.isSameOrBefore=function(f,p){return this.isSame(f,p)||this.isBefore(f,p)}}})})(dn);const fn=Ot,Rt=Symbol(),vn=Ce({type:{type:ie(String),default:"date"}}),pn=["date","dates","year","month","week","range"],At=Ce({disabledDate:{type:ie(Function)},date:{type:ie(Object),required:!0},minDate:{type:ie(Object)},maxDate:{type:ie(Object)},parsedValue:{type:ie([Object,Array])},rangeState:{type:ie(Object),default:()=>({endDate:null,selecting:!1})}}),sa=Ce({type:{type:ie(String),required:!0,values:Va}}),oa=Ce({unlinkPanels:Boolean,parsedValue:{type:ie(Array)}}),ra=o=>({type:String,values:pn,default:o}),mn=Ce({...sa,parsedValue:{type:ie([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),hn=Ce({...At,cellClassName:{type:ie(Function)},showWeekNumber:Boolean,selectionMode:ra("date")}),xt=o=>{if(!Se(o))return!1;const[c,a]=o;return j.isDayjs(c)&&j.isDayjs(a)&&c.isSameOrBefore(a)},ua=(o,{lang:c,unit:a,unlinkPanels:t})=>{let f;if(Se(o)){let[p,k]=o.map(g=>j(g).locale(c));return t||(k=p.add(1,a)),[p,k]}else o?f=j(o):f=j();return f=f.locale(c),[f,f.add(1,a)]},yn=(o,c,{columnIndexOffset:a,startDate:t,nextEndDate:f,now:p,unit:k,relativeDateGetter:g,setCellMetadata:M,setRowMetadata:S})=>{for(let A=0;A<o.row;A++){const C=c[A];for(let h=0;h<o.column;h++){let r=C[h+a];r||(r={row:A,column:h,type:"normal",inRange:!1,start:!1,end:!1});const w=A*o.column+h,l=g(w);r.dayjs=l,r.date=l.toDate(),r.timestamp=l.valueOf(),r.type="normal",r.inRange=!!(t&&l.isSameOrAfter(t,k)&&f&&l.isSameOrBefore(f,k))||!!(t&&l.isSameOrBefore(t,k)&&f&&l.isSameOrAfter(f,k)),t!=null&&t.isSameOrAfter(f)?(r.start=!!f&&l.isSame(f,k),r.end=t&&l.isSame(t,k)):(r.start=!!t&&l.isSame(t,k),r.end=!!f&&l.isSame(f,k)),l.isSame(p,k)&&(r.type="today"),M==null||M(r,{rowIndex:A,columnIndex:h}),C[h+a]=r}S==null||S(C)}},bn=Ce({cell:{type:ie(Object)}});var gn=Ve({name:"ElDatePickerCell",props:bn,setup(o){const c=Te("date-table-cell"),{slots:a}=He(Rt);return()=>{const{cell:t}=o;if(a.default){const f=a.default(t).filter(p=>p.patchFlag!==-2&&p.type.toString()!=="Symbol(Comment)");if(f.length)return f}return F("div",{class:c.b()},[F("span",{class:c.e("text")},[t==null?void 0:t.text])])}}});const kn=["aria-label","onMousedown"],wn={key:0,scope:"col"},Dn=["aria-label"],Sn=["aria-current","aria-selected","tabindex"],Cn=Ve({__name:"basic-date-table",props:hn,emits:["changerange","pick","select"],setup(o,{expose:c,emit:a}){const t=o,f=Te("date-table"),{t:p,lang:k}=Ne(),g=q(),M=q(),S=q(),A=q(),C=q([[],[],[],[],[],[]]);let h=!1;const r=t.date.$locale().weekStart||7,w=t.date.locale("en").localeData().weekdaysShort().map(s=>s.toLowerCase()),l=E(()=>r>3?7-r:-r),m=E(()=>{const s=t.date.startOf("month");return s.subtract(s.day()||7,"day")}),x=E(()=>w.concat(w).slice(r,r+7)),P=E(()=>Pa(I.value).some(s=>s.isCurrent)),d=E(()=>{const s=t.date.startOf("month"),_=s.day()||7,W=s.daysInMonth(),J=s.subtract(1,"month").daysInMonth();return{startOfMonthDay:_,dateCountOfMonth:W,dateCountOfLastMonth:J}}),$=E(()=>t.selectionMode==="dates"?Ze(t.parsedValue):[]),N=(s,{count:_,rowIndex:W,columnIndex:J})=>{const{startOfMonthDay:X,dateCountOfMonth:de,dateCountOfLastMonth:ne}=e(d),re=e(l);if(W>=0&&W<=1){const le=X+re<0?7+X+re:X+re;if(J+W*7>=le)return s.text=_,!0;s.text=ne-(le-J%7)+1+W*7,s.type="prev-month"}else return _<=de?s.text=_:(s.text=_-de,s.type="next-month"),!0;return!1},z=(s,{columnIndex:_,rowIndex:W},J)=>{const{disabledDate:X,cellClassName:de}=t,ne=e($),re=N(s,{count:J,rowIndex:W,columnIndex:_}),le=s.dayjs.toDate();return s.selected=ne.find(Pe=>Pe.valueOf()===s.dayjs.valueOf()),s.isSelected=!!s.selected,s.isCurrent=ee(s),s.disabled=X==null?void 0:X(le),s.customClass=de==null?void 0:de(le),re},G=s=>{if(t.selectionMode==="week"){const[_,W]=t.showWeekNumber?[1,7]:[0,6],J=R(s[_+1]);s[_].inRange=J,s[_].start=J,s[W].inRange=J,s[W].end=J}},I=E(()=>{const{minDate:s,maxDate:_,rangeState:W,showWeekNumber:J}=t,X=l.value,de=C.value,ne="day";let re=1;if(J)for(let le=0;le<6;le++)de[le][0]||(de[le][0]={type:"week",text:m.value.add(le*7+1,ne).week()});return yn({row:6,column:7},de,{startDate:s,columnIndexOffset:J?1:0,nextEndDate:W.endDate||_||W.selecting&&s||null,now:j().locale(e(k)).startOf(ne),unit:ne,relativeDateGetter:le=>m.value.add(le-X,ne),setCellMetadata:(...le)=>{z(...le,re)&&(re+=1)},setRowMetadata:G}),de});xe(()=>t.date,async()=>{var s,_;(s=g.value)!=null&&s.contains(document.activeElement)&&(await Ie(),(_=M.value)==null||_.focus())});const Z=async()=>{var s;(s=M.value)==null||s.focus()},H=(s="")=>["normal","today"].includes(s),ee=s=>t.selectionMode==="date"&&H(s.type)&&oe(s,t.parsedValue),oe=(s,_)=>_?j(_).locale(k.value).isSame(t.date.date(Number(s.text)),"day"):!1,K=s=>{const _=[];return H(s.type)&&!s.disabled?(_.push("available"),s.type==="today"&&_.push("today")):_.push(s.type),ee(s)&&_.push("current"),s.inRange&&(H(s.type)||t.selectionMode==="week")&&(_.push("in-range"),s.start&&_.push("start-date"),s.end&&_.push("end-date")),s.disabled&&_.push("disabled"),s.selected&&_.push("selected"),s.customClass&&_.push(s.customClass),_.join(" ")},te=(s,_)=>{const W=s*7+(_-(t.showWeekNumber?1:0))-l.value;return m.value.add(W,"day")},ce=s=>{var _;if(!t.rangeState.selecting)return;let W=s.target;if(W.tagName==="SPAN"&&(W=(_=W.parentNode)==null?void 0:_.parentNode),W.tagName==="DIV"&&(W=W.parentNode),W.tagName!=="TD")return;const J=W.parentNode.rowIndex-1,X=W.cellIndex;I.value[J][X].disabled||(J!==S.value||X!==A.value)&&(S.value=J,A.value=X,a("changerange",{selecting:!0,endDate:te(J,X)}))},ve=s=>!P.value&&(s==null?void 0:s.text)===1&&s.type==="normal"||s.isCurrent,U=s=>{h||P.value||t.selectionMode!=="date"||D(s,!0)},Y=s=>{s.target.closest("td")&&(h=!0)},i=s=>{s.target.closest("td")&&(h=!1)},D=(s,_=!1)=>{const W=s.target.closest("td");if(!W)return;const J=W.parentNode.rowIndex-1,X=W.cellIndex,de=I.value[J][X];if(de.disabled||de.type==="week")return;const ne=te(J,X);if(t.selectionMode==="range")!t.rangeState.selecting||!t.minDate?(a("pick",{minDate:ne,maxDate:null}),a("select",!0)):(ne>=t.minDate?a("pick",{minDate:t.minDate,maxDate:ne}):a("pick",{minDate:ne,maxDate:t.minDate}),a("select",!1));else if(t.selectionMode==="date")a("pick",ne,_);else if(t.selectionMode==="week"){const re=ne.week(),le=`${ne.year()}w${re}`;a("pick",{year:ne.year(),week:re,value:le,date:ne.startOf("week")})}else if(t.selectionMode==="dates"){const re=de.selected?Ze(t.parsedValue).filter(le=>(le==null?void 0:le.valueOf())!==ne.valueOf()):Ze(t.parsedValue).concat([ne]);a("pick",re)}},R=s=>{if(t.selectionMode!=="week")return!1;let _=t.date.startOf("day");if(s.type==="prev-month"&&(_=_.subtract(1,"month")),s.type==="next-month"&&(_=_.add(1,"month")),_=_.date(Number.parseInt(s.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const W=(t.parsedValue.day()-r+7)%7-1;return t.parsedValue.subtract(W,"day").isSame(_,"day")}return!1};return c({focus:Z}),(s,_)=>(T(),L("table",{role:"grid","aria-label":e(p)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:b([e(f).b(),{"is-week-mode":s.selectionMode==="week"}]),onClick:D,onMousemove:ce,onMousedown:Ee(Y,["prevent"]),onMouseup:i},[B("tbody",{ref_key:"tbodyRef",ref:g},[B("tr",null,[s.showWeekNumber?(T(),L("th",wn,fe(e(p)("el.datepicker.week")),1)):pe("v-if",!0),(T(!0),L(be,null,_e(e(x),(W,J)=>(T(),L("th",{key:J,scope:"col","aria-label":e(p)("el.datepicker.weeksFull."+W)},fe(e(p)("el.datepicker.weeks."+W)),9,Dn))),128))]),(T(!0),L(be,null,_e(e(I),(W,J)=>(T(),L("tr",{key:J,class:b([e(f).e("row"),{current:R(W[1])}])},[(T(!0),L(be,null,_e(W,(X,de)=>(T(),L("td",{key:`${J}.${de}`,ref_for:!0,ref:ne=>ve(X)&&(M.value=ne),class:b(K(X)),"aria-current":X.isCurrent?"date":void 0,"aria-selected":X.isCurrent,tabindex:ve(X)?0:-1,onFocus:U},[F(e(gn),{cell:X},null,8,["cell"])],42,Sn))),128))],2))),128))],512)],42,kn))}});var It=Be(Cn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const Mn=Ce({...At,selectionMode:ra("month")}),Pn=["aria-label"],_n=["aria-selected","aria-label","tabindex","onKeydown"],$n={class:"cell"},Tn=Ve({__name:"basic-month-table",props:Mn,emits:["changerange","pick","select"],setup(o,{expose:c,emit:a}){const t=o,f=($,N,z)=>{const G=j().locale(z).startOf("month").month(N).year($),I=G.daysInMonth();return Qt(I).map(Z=>G.add(Z,"day").toDate())},p=Te("month-table"),{t:k,lang:g}=Ne(),M=q(),S=q(),A=q(t.date.locale("en").localeData().monthsShort().map($=>$.toLowerCase())),C=q([[],[],[]]),h=q(),r=q(),w=E(()=>{var $,N;const z=C.value,G=j().locale(g.value).startOf("month");for(let I=0;I<3;I++){const Z=z[I];for(let H=0;H<4;H++){const ee=Z[H]||(Z[H]={row:I,column:H,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});ee.type="normal";const oe=I*4+H,K=t.date.startOf("year").month(oe),te=t.rangeState.endDate||t.maxDate||t.rangeState.selecting&&t.minDate||null;ee.inRange=!!(t.minDate&&K.isSameOrAfter(t.minDate,"month")&&te&&K.isSameOrBefore(te,"month"))||!!(t.minDate&&K.isSameOrBefore(t.minDate,"month")&&te&&K.isSameOrAfter(te,"month")),($=t.minDate)!=null&&$.isSameOrAfter(te)?(ee.start=!!(te&&K.isSame(te,"month")),ee.end=t.minDate&&K.isSame(t.minDate,"month")):(ee.start=!!(t.minDate&&K.isSame(t.minDate,"month")),ee.end=!!(te&&K.isSame(te,"month"))),G.isSame(K)&&(ee.type="today"),ee.text=oe,ee.disabled=((N=t.disabledDate)==null?void 0:N.call(t,K.toDate()))||!1}}return z}),l=()=>{var $;($=S.value)==null||$.focus()},m=$=>{const N={},z=t.date.year(),G=new Date,I=$.text;return N.disabled=t.disabledDate?f(z,I,g.value).every(t.disabledDate):!1,N.current=Ze(t.parsedValue).findIndex(Z=>j.isDayjs(Z)&&Z.year()===z&&Z.month()===I)>=0,N.today=G.getFullYear()===z&&G.getMonth()===I,$.inRange&&(N["in-range"]=!0,$.start&&(N["start-date"]=!0),$.end&&(N["end-date"]=!0)),N},x=$=>{const N=t.date.year(),z=$.text;return Ze(t.date).findIndex(G=>G.year()===N&&G.month()===z)>=0},P=$=>{var N;if(!t.rangeState.selecting)return;let z=$.target;if(z.tagName==="A"&&(z=(N=z.parentNode)==null?void 0:N.parentNode),z.tagName==="DIV"&&(z=z.parentNode),z.tagName!=="TD")return;const G=z.parentNode.rowIndex,I=z.cellIndex;w.value[G][I].disabled||(G!==h.value||I!==r.value)&&(h.value=G,r.value=I,a("changerange",{selecting:!0,endDate:t.date.startOf("year").month(G*4+I)}))},d=$=>{var N;const z=(N=$.target)==null?void 0:N.closest("td");if((z==null?void 0:z.tagName)!=="TD"||qt(z,"disabled"))return;const G=z.cellIndex,Z=z.parentNode.rowIndex*4+G,H=t.date.startOf("year").month(Z);t.selectionMode==="range"?t.rangeState.selecting?(t.minDate&&H>=t.minDate?a("pick",{minDate:t.minDate,maxDate:H}):a("pick",{minDate:H,maxDate:t.minDate}),a("select",!1)):(a("pick",{minDate:H,maxDate:null}),a("select",!0)):a("pick",Z)};return xe(()=>t.date,async()=>{var $,N;($=M.value)!=null&&$.contains(document.activeElement)&&(await Ie(),(N=S.value)==null||N.focus())}),c({focus:l}),($,N)=>(T(),L("table",{role:"grid","aria-label":e(k)("el.datepicker.monthTablePrompt"),class:b(e(p).b()),onClick:d,onMousemove:P},[B("tbody",{ref_key:"tbodyRef",ref:M},[(T(!0),L(be,null,_e(e(w),(z,G)=>(T(),L("tr",{key:G},[(T(!0),L(be,null,_e(z,(I,Z)=>(T(),L("td",{key:Z,ref_for:!0,ref:H=>x(I)&&(S.value=H),class:b(m(I)),"aria-selected":`${x(I)}`,"aria-label":e(k)(`el.datepicker.month${+I.text+1}`),tabindex:x(I)?0:-1,onKeydown:[lt(Ee(d,["prevent","stop"]),["space"]),lt(Ee(d,["prevent","stop"]),["enter"])]},[B("div",null,[B("span",$n,fe(e(k)("el.datepicker.months."+A.value[I.text])),1)])],42,_n))),128))]))),128))],512)],42,Pn))}});var Yt=Be(Tn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:Vn,disabledDate:On,parsedValue:xn}=At,In=Ce({date:Vn,disabledDate:On,parsedValue:xn}),Yn=["aria-label"],Rn=["aria-selected","tabindex","onKeydown"],An={class:"cell"},En={key:1},Nn=Ve({__name:"basic-year-table",props:In,emits:["pick"],setup(o,{expose:c,emit:a}){const t=o,f=(l,m)=>{const x=j(String(l)).locale(m).startOf("year"),d=x.endOf("year").dayOfYear();return Qt(d).map($=>x.add($,"day").toDate())},p=Te("year-table"),{t:k,lang:g}=Ne(),M=q(),S=q(),A=E(()=>Math.floor(t.date.year()/10)*10),C=()=>{var l;(l=S.value)==null||l.focus()},h=l=>{const m={},x=j().locale(g.value);return m.disabled=t.disabledDate?f(l,g.value).every(t.disabledDate):!1,m.current=Ze(t.parsedValue).findIndex(P=>P.year()===l)>=0,m.today=x.year()===l,m},r=l=>l===A.value&&t.date.year()<A.value&&t.date.year()>A.value+9||Ze(t.date).findIndex(m=>m.year()===l)>=0,w=l=>{const x=l.target.closest("td");if(x&&x.textContent){if(qt(x,"disabled"))return;const P=x.textContent||x.innerText;a("pick",Number(P))}};return xe(()=>t.date,async()=>{var l,m;(l=M.value)!=null&&l.contains(document.activeElement)&&(await Ie(),(m=S.value)==null||m.focus())}),c({focus:C}),(l,m)=>(T(),L("table",{role:"grid","aria-label":e(k)("el.datepicker.yearTablePrompt"),class:b(e(p).b()),onClick:w},[B("tbody",{ref_key:"tbodyRef",ref:M},[(T(),L(be,null,_e(3,(x,P)=>B("tr",{key:P},[(T(),L(be,null,_e(4,(d,$)=>(T(),L(be,{key:P+"_"+$},[P*4+$<10?(T(),L("td",{key:0,ref_for:!0,ref:N=>r(e(A)+P*4+$)&&(S.value=N),class:b(["available",h(e(A)+P*4+$)]),"aria-selected":`${r(e(A)+P*4+$)}`,tabindex:r(e(A)+P*4+$)?0:-1,onKeydown:[lt(Ee(w,["prevent","stop"]),["space"]),lt(Ee(w,["prevent","stop"]),["enter"])]},[B("span",An,fe(e(A)+P*4+$),1)],42,Rn)):(T(),L("td",En))],64))),64))])),64))],512)],10,Yn))}});var Fn=Be(Nn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Ln=["onClick"],Bn=["aria-label"],Wn=["aria-label"],zn=["aria-label"],Kn=["aria-label"],Un=Ve({__name:"panel-date-pick",props:mn,emits:["pick","set-picker-option","panel-change"],setup(o,{emit:c}){const a=o,t=(v,O,Q)=>!0,f=Te("picker-panel"),p=Te("date-picker"),k=Zt(),g=Jt(),{t:M,lang:S}=Ne(),A=He("EP_PICKER_BASE"),C=He(Ca),{shortcuts:h,disabledDate:r,cellClassName:w,defaultTime:l,arrowControl:m}=A.props,x=st(A.props,"defaultValue"),P=q(),d=q(j().locale(S.value)),$=q(!1),N=E(()=>j(l).locale(S.value)),z=E(()=>d.value.month()),G=E(()=>d.value.year()),I=q([]),Z=q(null),H=q(null),ee=v=>I.value.length>0?t(v,I.value,a.format||"HH:mm:ss"):!0,oe=v=>l&&!ye.value&&!$.value?N.value.year(v.year()).month(v.month()).date(v.date()):X.value?v.millisecond(0):v.startOf("day"),K=(v,...O)=>{if(!v)c("pick",v,...O);else if(Se(v)){const Q=v.map(oe);c("pick",Q,...O)}else c("pick",oe(v),...O);Z.value=null,H.value=null,$.value=!1},te=(v,O)=>{if(D.value==="date"){v=v;let Q=a.parsedValue?a.parsedValue.year(v.year()).month(v.month()).date(v.date()):v;ee(Q)||(Q=I.value[0][0].year(v.year()).month(v.month()).date(v.date())),d.value=Q,K(Q,X.value||O)}else D.value==="week"?K(v.date):D.value==="dates"&&K(v,!0)},ce=v=>{const O=v?"add":"subtract";d.value=d.value[O](1,"month"),me("month")},ve=v=>{const O=d.value,Q=v?"add":"subtract";d.value=U.value==="year"?O[Q](10,"year"):O[Q](1,"year"),me("year")},U=q("date"),Y=E(()=>{const v=M("el.datepicker.year");if(U.value==="year"){const O=Math.floor(G.value/10)*10;return v?`${O} ${v} - ${O+9} ${v}`:`${O} - ${O+9}`}return`${G.value} ${v}`}),i=v=>{const O=ut(v.value)?v.value():v.value;if(O){K(j(O).locale(S.value));return}v.onClick&&v.onClick({attrs:k,slots:g,emit:c})},D=E(()=>{const{type:v}=a;return["week","month","year","dates"].includes(v)?v:"date"}),R=E(()=>D.value==="date"?U.value:D.value),s=E(()=>!!h.length),_=async v=>{d.value=d.value.startOf("month").month(v),D.value==="month"?K(d.value,!1):(U.value="date",["month","year","date","week"].includes(D.value)&&(K(d.value,!0),await Ie(),Le())),me("month")},W=async v=>{D.value==="year"?(d.value=d.value.startOf("year").year(v),K(d.value,!1)):(d.value=d.value.year(v),U.value="month",["month","year","date","week"].includes(D.value)&&(K(d.value,!0),await Ie(),Le())),me("year")},J=async v=>{U.value=v,await Ie(),Le()},X=E(()=>a.type==="datetime"||a.type==="datetimerange"),de=E(()=>X.value||D.value==="dates"),ne=()=>{if(D.value==="dates")K(a.parsedValue);else{let v=a.parsedValue;if(!v){const O=j(l).locale(S.value),Q=Ke();v=O.year(Q.year()).month(Q.month()).date(Q.date())}d.value=v,K(v)}},re=()=>{const O=j().locale(S.value).toDate();$.value=!0,(!r||!r(O))&&ee(O)&&(d.value=j().locale(S.value),K(d.value))},le=E(()=>ta(a.format)),Pe=E(()=>ea(a.format)),ye=E(()=>{if(H.value)return H.value;if(!(!a.parsedValue&&!x.value))return(a.parsedValue||d.value).format(le.value)}),Me=E(()=>{if(Z.value)return Z.value;if(!(!a.parsedValue&&!x.value))return(a.parsedValue||d.value).format(Pe.value)}),we=q(!1),Fe=()=>{we.value=!0},Re=()=>{we.value=!1},ae=v=>({hour:v.hour(),minute:v.minute(),second:v.second(),year:v.year(),month:v.month(),date:v.date()}),We=(v,O,Q)=>{const{hour:n,minute:u,second:y}=ae(v),V=a.parsedValue?a.parsedValue.hour(n).minute(u).second(y):v;d.value=V,K(d.value,!0),Q||(we.value=O)},$e=v=>{const O=j(v,le.value).locale(S.value);if(O.isValid()&&ee(O)){const{year:Q,month:n,date:u}=ae(d.value);d.value=O.year(Q).month(n).date(u),H.value=null,we.value=!1,K(d.value,!0)}},Oe=v=>{const O=j(v,Pe.value).locale(S.value);if(O.isValid()){if(r&&r(O.toDate()))return;const{hour:Q,minute:n,second:u}=ae(d.value);d.value=O.hour(Q).minute(n).second(u),Z.value=null,K(d.value,!0)}},ze=v=>j.isDayjs(v)&&v.isValid()&&(r?!r(v.toDate()):!0),Je=v=>D.value==="dates"?v.map(O=>O.format(a.format)):v.format(a.format),Xe=v=>j(v,a.format).locale(S.value),Ke=()=>{const v=j(x.value).locale(S.value);if(!x.value){const O=N.value;return j().hour(O.hour()).minute(O.minute()).second(O.second()).locale(S.value)}return v},Le=async()=>{var v;["week","month","year","date"].includes(D.value)&&((v=P.value)==null||v.focus(),D.value==="week"&&et(ke.down))},Qe=v=>{const{code:O}=v;[ke.up,ke.down,ke.left,ke.right,ke.home,ke.end,ke.pageUp,ke.pageDown].includes(O)&&(et(O),v.stopPropagation(),v.preventDefault()),[ke.enter,ke.space].includes(O)&&Z.value===null&&H.value===null&&(v.preventDefault(),K(d.value,!1))},et=v=>{var O;const{up:Q,down:n,left:u,right:y,home:V,end:ge,pageUp:Ge,pageDown:tt}=ke,ca={year:{[Q]:-4,[n]:4,[u]:-1,[y]:1,offset:(ue,Ae)=>ue.setFullYear(ue.getFullYear()+Ae)},month:{[Q]:-4,[n]:4,[u]:-1,[y]:1,offset:(ue,Ae)=>ue.setMonth(ue.getMonth()+Ae)},week:{[Q]:-1,[n]:1,[u]:-1,[y]:1,offset:(ue,Ae)=>ue.setDate(ue.getDate()+Ae*7)},date:{[Q]:-7,[n]:7,[u]:-1,[y]:1,[V]:ue=>-ue.getDay(),[ge]:ue=>-ue.getDay()+6,[Ge]:ue=>-new Date(ue.getFullYear(),ue.getMonth(),0).getDate(),[tt]:ue=>new Date(ue.getFullYear(),ue.getMonth()+1,0).getDate(),offset:(ue,Ae)=>ue.setDate(ue.getDate()+Ae)}},ot=d.value.toDate();for(;Math.abs(d.value.diff(ot,"year",!0))<1;){const ue=ca[R.value];if(!ue)return;if(ue.offset(ot,ut(ue[v])?ue[v](ot):(O=ue[v])!=null?O:0),r&&r(ot))break;const Ae=j(ot).locale(S.value);d.value=Ae,c("pick",Ae,!0);break}},me=v=>{c("panel-change",d.value.toDate(),v,U.value)};return xe(()=>D.value,v=>{if(["month","year"].includes(v)){U.value=v;return}U.value="date"},{immediate:!0}),xe(()=>U.value,()=>{C==null||C.updatePopper()}),xe(()=>x.value,v=>{v&&(d.value=Ke())},{immediate:!0}),xe(()=>a.parsedValue,v=>{if(v){if(D.value==="dates"||Array.isArray(v))return;d.value=v}else d.value=Ke()},{immediate:!0}),c("set-picker-option",["isValidValue",ze]),c("set-picker-option",["formatToString",Je]),c("set-picker-option",["parseUserInput",Xe]),c("set-picker-option",["handleFocusPicker",Le]),(v,O)=>(T(),L("div",{class:b([e(f).b(),e(p).b(),{"has-sidebar":v.$slots.sidebar||e(s),"has-time":e(X)}])},[B("div",{class:b(e(f).e("body-wrapper"))},[rt(v.$slots,"sidebar",{class:b(e(f).e("sidebar"))}),e(s)?(T(),L("div",{key:0,class:b(e(f).e("sidebar"))},[(T(!0),L(be,null,_e(e(h),(Q,n)=>(T(),L("button",{key:n,type:"button",class:b(e(f).e("shortcut")),onClick:u=>i(Q)},fe(Q.text),11,Ln))),128))],2)):pe("v-if",!0),B("div",{class:b(e(f).e("body"))},[e(X)?(T(),L("div",{key:0,class:b(e(p).e("time-header"))},[B("span",{class:b(e(p).e("editor-wrap"))},[F(e(qe),{placeholder:e(M)("el.datepicker.selectDate"),"model-value":e(Me),size:"small","validate-event":!1,onInput:O[0]||(O[0]=Q=>Z.value=Q),onChange:Oe},null,8,["placeholder","model-value"])],2),Ye((T(),L("span",{class:b(e(p).e("editor-wrap"))},[F(e(qe),{placeholder:e(M)("el.datepicker.selectTime"),"model-value":e(ye),size:"small","validate-event":!1,onFocus:Fe,onInput:O[1]||(O[1]=Q=>H.value=Q),onChange:$e},null,8,["placeholder","model-value"]),F(e(Ct),{visible:we.value,format:e(le),"time-arrow-control":e(m),"parsed-value":d.value,onPick:We},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Dt),Re]])],2)):pe("v-if",!0),Ye(B("div",{class:b([e(p).e("header"),(U.value==="year"||U.value==="month")&&e(p).e("header--bordered")])},[B("span",{class:b(e(p).e("prev-btn"))},[B("button",{type:"button","aria-label":e(M)("el.datepicker.prevYear"),class:b(["d-arrow-left",e(f).e("icon-btn")]),onClick:O[2]||(O[2]=Q=>ve(!1))},[F(e(he),null,{default:se(()=>[F(e(it))]),_:1})],10,Bn),Ye(B("button",{type:"button","aria-label":e(M)("el.datepicker.prevMonth"),class:b([e(f).e("icon-btn"),"arrow-left"]),onClick:O[3]||(O[3]=Q=>ce(!1))},[F(e(he),null,{default:se(()=>[F(e(wt))]),_:1})],10,Wn),[[at,U.value==="date"]])],2),B("span",{role:"button",class:b(e(p).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:O[4]||(O[4]=lt(Q=>J("year"),["enter"])),onClick:O[5]||(O[5]=Q=>J("year"))},fe(e(Y)),35),Ye(B("span",{role:"button","aria-live":"polite",tabindex:"0",class:b([e(p).e("header-label"),{active:U.value==="month"}]),onKeydown:O[6]||(O[6]=lt(Q=>J("month"),["enter"])),onClick:O[7]||(O[7]=Q=>J("month"))},fe(e(M)(`el.datepicker.month${e(z)+1}`)),35),[[at,U.value==="date"]]),B("span",{class:b(e(p).e("next-btn"))},[Ye(B("button",{type:"button","aria-label":e(M)("el.datepicker.nextMonth"),class:b([e(f).e("icon-btn"),"arrow-right"]),onClick:O[8]||(O[8]=Q=>ce(!0))},[F(e(he),null,{default:se(()=>[F(e(pt))]),_:1})],10,zn),[[at,U.value==="date"]]),B("button",{type:"button","aria-label":e(M)("el.datepicker.nextYear"),class:b([e(f).e("icon-btn"),"d-arrow-right"]),onClick:O[9]||(O[9]=Q=>ve(!0))},[F(e(he),null,{default:se(()=>[F(e(ct))]),_:1})],10,Kn)],2)],2),[[at,U.value!=="time"]]),B("div",{class:b(e(f).e("content")),onKeydown:Qe},[U.value==="date"?(T(),De(It,{key:0,ref_key:"currentViewRef",ref:P,"selection-mode":e(D),date:d.value,"parsed-value":v.parsedValue,"disabled-date":e(r),"cell-class-name":e(w),onPick:te},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):pe("v-if",!0),U.value==="year"?(T(),De(Fn,{key:1,ref_key:"currentViewRef",ref:P,date:d.value,"disabled-date":e(r),"parsed-value":v.parsedValue,onPick:W},null,8,["date","disabled-date","parsed-value"])):pe("v-if",!0),U.value==="month"?(T(),De(Yt,{key:2,ref_key:"currentViewRef",ref:P,date:d.value,"parsed-value":v.parsedValue,"disabled-date":e(r),onPick:_},null,8,["date","parsed-value","disabled-date"])):pe("v-if",!0)],34)],2)],2),Ye(B("div",{class:b(e(f).e("footer"))},[Ye(F(e(ht),{text:"",size:"small",class:b(e(f).e("link-btn")),onClick:re},{default:se(()=>[Ue(fe(e(M)("el.datepicker.now")),1)]),_:1},8,["class"]),[[at,e(D)!=="dates"]]),F(e(ht),{plain:"",size:"small",class:b(e(f).e("link-btn")),onClick:ne},{default:se(()=>[Ue(fe(e(M)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[at,e(de)&&U.value==="date"]])],2))}});var Hn=Be(Un,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const jn=Ce({...sa,...oa}),Gn=o=>{const{emit:c}=Xt(),a=Zt(),t=Jt();return p=>{const k=ut(p.value)?p.value():p.value;if(k){c("pick",[j(k[0]).locale(o.value),j(k[1]).locale(o.value)]);return}p.onClick&&p.onClick({attrs:a,slots:t,emit:c})}},ia=(o,{defaultValue:c,leftDate:a,rightDate:t,unit:f,onParsedValueChanged:p})=>{const{emit:k}=Xt(),{pickerNs:g}=He(Rt),M=Te("date-range-picker"),{t:S,lang:A}=Ne(),C=Gn(A),h=q(),r=q(),w=q({endDate:null,selecting:!1}),l=d=>{w.value=d},m=(d=!1)=>{const $=e(h),N=e(r);xt([$,N])&&k("pick",[$,N],d)},x=d=>{w.value.selecting=d,d||(w.value.endDate=null)},P=()=>{const[d,$]=ua(e(c),{lang:e(A),unit:f,unlinkPanels:o.unlinkPanels});h.value=void 0,r.value=void 0,a.value=d,t.value=$};return xe(c,d=>{d&&P()},{immediate:!0}),xe(()=>o.parsedValue,d=>{if(Se(d)&&d.length===2){const[$,N]=d;h.value=$,a.value=$,r.value=N,p(e(h),e(r))}else P()},{immediate:!0}),{minDate:h,maxDate:r,rangeState:w,lang:A,ppNs:g,drpNs:M,handleChangeRange:l,handleRangeConfirm:m,handleShortcutClick:C,onSelect:x,t:S}},qn=["onClick"],Zn=["disabled"],Jn=["disabled"],Xn=["disabled"],Qn=["disabled"],ft="month",el=Ve({__name:"panel-date-range",props:jn,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(o,{emit:c}){const a=o,t=He("EP_PICKER_BASE"),{disabledDate:f,cellClassName:p,format:k,defaultTime:g,arrowControl:M,clearable:S}=t.props,A=st(t.props,"shortcuts"),C=st(t.props,"defaultValue"),{lang:h}=Ne(),r=q(j().locale(h.value)),w=q(j().locale(h.value).add(1,ft)),{minDate:l,maxDate:m,rangeState:x,ppNs:P,drpNs:d,handleChangeRange:$,handleRangeConfirm:N,handleShortcutClick:z,onSelect:G,t:I}=ia(a,{defaultValue:C,leftDate:r,rightDate:w,unit:ft,onParsedValueChanged:n}),Z=q({min:null,max:null}),H=q({min:null,max:null}),ee=E(()=>`${r.value.year()} ${I("el.datepicker.year")} ${I(`el.datepicker.month${r.value.month()+1}`)}`),oe=E(()=>`${w.value.year()} ${I("el.datepicker.year")} ${I(`el.datepicker.month${w.value.month()+1}`)}`),K=E(()=>r.value.year()),te=E(()=>r.value.month()),ce=E(()=>w.value.year()),ve=E(()=>w.value.month()),U=E(()=>!!A.value.length),Y=E(()=>Z.value.min!==null?Z.value.min:l.value?l.value.format(_.value):""),i=E(()=>Z.value.max!==null?Z.value.max:m.value||l.value?(m.value||l.value).format(_.value):""),D=E(()=>H.value.min!==null?H.value.min:l.value?l.value.format(s.value):""),R=E(()=>H.value.max!==null?H.value.max:m.value||l.value?(m.value||l.value).format(s.value):""),s=E(()=>ta(k)),_=E(()=>ea(k)),W=()=>{r.value=r.value.subtract(1,"year"),a.unlinkPanels||(w.value=r.value.add(1,"month")),ye("year")},J=()=>{r.value=r.value.subtract(1,"month"),a.unlinkPanels||(w.value=r.value.add(1,"month")),ye("month")},X=()=>{a.unlinkPanels?w.value=w.value.add(1,"year"):(r.value=r.value.add(1,"year"),w.value=r.value.add(1,"month")),ye("year")},de=()=>{a.unlinkPanels?w.value=w.value.add(1,"month"):(r.value=r.value.add(1,"month"),w.value=r.value.add(1,"month")),ye("month")},ne=()=>{r.value=r.value.add(1,"year"),ye("year")},re=()=>{r.value=r.value.add(1,"month"),ye("month")},le=()=>{w.value=w.value.subtract(1,"year"),ye("year")},Pe=()=>{w.value=w.value.subtract(1,"month"),ye("month")},ye=u=>{c("panel-change",[r.value.toDate(),w.value.toDate()],u)},Me=E(()=>{const u=(te.value+1)%12,y=te.value+1>=12?1:0;return a.unlinkPanels&&new Date(K.value+y,u)<new Date(ce.value,ve.value)}),we=E(()=>a.unlinkPanels&&ce.value*12+ve.value-(K.value*12+te.value+1)>=12),Fe=E(()=>!(l.value&&m.value&&!x.value.selecting&&xt([l.value,m.value]))),Re=E(()=>a.type==="datetime"||a.type==="datetimerange"),ae=(u,y)=>{if(u)return g?j(g[y]||g).locale(h.value).year(u.year()).month(u.month()).date(u.date()):u},We=(u,y=!0)=>{const V=u.minDate,ge=u.maxDate,Ge=ae(V,0),tt=ae(ge,1);m.value===tt&&l.value===Ge||(c("calendar-change",[V.toDate(),ge&&ge.toDate()]),m.value=tt,l.value=Ge,!(!y||Re.value)&&N())},$e=q(!1),Oe=q(!1),ze=()=>{$e.value=!1},Je=()=>{Oe.value=!1},Xe=(u,y)=>{Z.value[y]=u;const V=j(u,_.value).locale(h.value);if(V.isValid()){if(f&&f(V.toDate()))return;y==="min"?(r.value=V,l.value=(l.value||r.value).year(V.year()).month(V.month()).date(V.date()),a.unlinkPanels||(w.value=V.add(1,"month"),m.value=l.value.add(1,"month"))):(w.value=V,m.value=(m.value||w.value).year(V.year()).month(V.month()).date(V.date()),a.unlinkPanels||(r.value=V.subtract(1,"month"),l.value=m.value.subtract(1,"month")))}},Ke=(u,y)=>{Z.value[y]=null},Le=(u,y)=>{H.value[y]=u;const V=j(u,s.value).locale(h.value);V.isValid()&&(y==="min"?($e.value=!0,l.value=(l.value||r.value).hour(V.hour()).minute(V.minute()).second(V.second()),(!m.value||m.value.isBefore(l.value))&&(m.value=l.value)):(Oe.value=!0,m.value=(m.value||w.value).hour(V.hour()).minute(V.minute()).second(V.second()),w.value=m.value,m.value&&m.value.isBefore(l.value)&&(l.value=m.value)))},Qe=(u,y)=>{H.value[y]=null,y==="min"?(r.value=l.value,$e.value=!1):(w.value=m.value,Oe.value=!1)},et=(u,y,V)=>{H.value.min||(u&&(r.value=u,l.value=(l.value||r.value).hour(u.hour()).minute(u.minute()).second(u.second())),V||($e.value=y),(!m.value||m.value.isBefore(l.value))&&(m.value=l.value,w.value=u))},me=(u,y,V)=>{H.value.max||(u&&(w.value=u,m.value=(m.value||w.value).hour(u.hour()).minute(u.minute()).second(u.second())),V||(Oe.value=y),m.value&&m.value.isBefore(l.value)&&(l.value=m.value))},v=()=>{r.value=ua(e(C),{lang:e(h),unit:"month",unlinkPanels:a.unlinkPanels})[0],w.value=r.value.add(1,"month"),c("pick",null)},O=u=>Se(u)?u.map(y=>y.format(k)):u.format(k),Q=u=>Se(u)?u.map(y=>j(y,k).locale(h.value)):j(u,k).locale(h.value);function n(u,y){if(a.unlinkPanels&&y){const V=(u==null?void 0:u.year())||0,ge=(u==null?void 0:u.month())||0,Ge=y.year(),tt=y.month();w.value=V===Ge&&ge===tt?y.add(1,ft):y}else w.value=r.value.add(1,ft),y&&(w.value=w.value.hour(y.hour()).minute(y.minute()).second(y.second()))}return c("set-picker-option",["isValidValue",xt]),c("set-picker-option",["parseUserInput",Q]),c("set-picker-option",["formatToString",O]),c("set-picker-option",["handleClear",v]),(u,y)=>(T(),L("div",{class:b([e(P).b(),e(d).b(),{"has-sidebar":u.$slots.sidebar||e(U),"has-time":e(Re)}])},[B("div",{class:b(e(P).e("body-wrapper"))},[rt(u.$slots,"sidebar",{class:b(e(P).e("sidebar"))}),e(U)?(T(),L("div",{key:0,class:b(e(P).e("sidebar"))},[(T(!0),L(be,null,_e(e(A),(V,ge)=>(T(),L("button",{key:ge,type:"button",class:b(e(P).e("shortcut")),onClick:Ge=>e(z)(V)},fe(V.text),11,qn))),128))],2)):pe("v-if",!0),B("div",{class:b(e(P).e("body"))},[e(Re)?(T(),L("div",{key:0,class:b(e(d).e("time-header"))},[B("span",{class:b(e(d).e("editors-wrap"))},[B("span",{class:b(e(d).e("time-picker-wrap"))},[F(e(qe),{size:"small",disabled:e(x).selecting,placeholder:e(I)("el.datepicker.startDate"),class:b(e(d).e("editor")),"model-value":e(Y),"validate-event":!1,onInput:y[0]||(y[0]=V=>Xe(V,"min")),onChange:y[1]||(y[1]=V=>Ke(V,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Ye((T(),L("span",{class:b(e(d).e("time-picker-wrap"))},[F(e(qe),{size:"small",class:b(e(d).e("editor")),disabled:e(x).selecting,placeholder:e(I)("el.datepicker.startTime"),"model-value":e(D),"validate-event":!1,onFocus:y[2]||(y[2]=V=>$e.value=!0),onInput:y[3]||(y[3]=V=>Le(V,"min")),onChange:y[4]||(y[4]=V=>Qe(V,"min"))},null,8,["class","disabled","placeholder","model-value"]),F(e(Ct),{visible:$e.value,format:e(s),"datetime-role":"start","time-arrow-control":e(M),"parsed-value":r.value,onPick:et},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Dt),ze]])],2),B("span",null,[F(e(he),null,{default:se(()=>[F(e(pt))]),_:1})]),B("span",{class:b([e(d).e("editors-wrap"),"is-right"])},[B("span",{class:b(e(d).e("time-picker-wrap"))},[F(e(qe),{size:"small",class:b(e(d).e("editor")),disabled:e(x).selecting,placeholder:e(I)("el.datepicker.endDate"),"model-value":e(i),readonly:!e(l),"validate-event":!1,onInput:y[5]||(y[5]=V=>Xe(V,"max")),onChange:y[6]||(y[6]=V=>Ke(V,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Ye((T(),L("span",{class:b(e(d).e("time-picker-wrap"))},[F(e(qe),{size:"small",class:b(e(d).e("editor")),disabled:e(x).selecting,placeholder:e(I)("el.datepicker.endTime"),"model-value":e(R),readonly:!e(l),"validate-event":!1,onFocus:y[7]||(y[7]=V=>e(l)&&(Oe.value=!0)),onInput:y[8]||(y[8]=V=>Le(V,"max")),onChange:y[9]||(y[9]=V=>Qe(V,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),F(e(Ct),{"datetime-role":"end",visible:Oe.value,format:e(s),"time-arrow-control":e(M),"parsed-value":w.value,onPick:me},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Dt),Je]])],2)],2)):pe("v-if",!0),B("div",{class:b([[e(P).e("content"),e(d).e("content")],"is-left"])},[B("div",{class:b(e(d).e("header"))},[B("button",{type:"button",class:b([e(P).e("icon-btn"),"d-arrow-left"]),onClick:W},[F(e(he),null,{default:se(()=>[F(e(it))]),_:1})],2),B("button",{type:"button",class:b([e(P).e("icon-btn"),"arrow-left"]),onClick:J},[F(e(he),null,{default:se(()=>[F(e(wt))]),_:1})],2),u.unlinkPanels?(T(),L("button",{key:0,type:"button",disabled:!e(we),class:b([[e(P).e("icon-btn"),{"is-disabled":!e(we)}],"d-arrow-right"]),onClick:ne},[F(e(he),null,{default:se(()=>[F(e(ct))]),_:1})],10,Zn)):pe("v-if",!0),u.unlinkPanels?(T(),L("button",{key:1,type:"button",disabled:!e(Me),class:b([[e(P).e("icon-btn"),{"is-disabled":!e(Me)}],"arrow-right"]),onClick:re},[F(e(he),null,{default:se(()=>[F(e(pt))]),_:1})],10,Jn)):pe("v-if",!0),B("div",null,fe(e(ee)),1)],2),F(It,{"selection-mode":"range",date:r.value,"min-date":e(l),"max-date":e(m),"range-state":e(x),"disabled-date":e(f),"cell-class-name":e(p),onChangerange:e($),onPick:We,onSelect:e(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),B("div",{class:b([[e(P).e("content"),e(d).e("content")],"is-right"])},[B("div",{class:b(e(d).e("header"))},[u.unlinkPanels?(T(),L("button",{key:0,type:"button",disabled:!e(we),class:b([[e(P).e("icon-btn"),{"is-disabled":!e(we)}],"d-arrow-left"]),onClick:le},[F(e(he),null,{default:se(()=>[F(e(it))]),_:1})],10,Xn)):pe("v-if",!0),u.unlinkPanels?(T(),L("button",{key:1,type:"button",disabled:!e(Me),class:b([[e(P).e("icon-btn"),{"is-disabled":!e(Me)}],"arrow-left"]),onClick:Pe},[F(e(he),null,{default:se(()=>[F(e(wt))]),_:1})],10,Qn)):pe("v-if",!0),B("button",{type:"button",class:b([e(P).e("icon-btn"),"d-arrow-right"]),onClick:X},[F(e(he),null,{default:se(()=>[F(e(ct))]),_:1})],2),B("button",{type:"button",class:b([e(P).e("icon-btn"),"arrow-right"]),onClick:de},[F(e(he),null,{default:se(()=>[F(e(pt))]),_:1})],2),B("div",null,fe(e(oe)),1)],2),F(It,{"selection-mode":"range",date:w.value,"min-date":e(l),"max-date":e(m),"range-state":e(x),"disabled-date":e(f),"cell-class-name":e(p),onChangerange:e($),onPick:We,onSelect:e(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),e(Re)?(T(),L("div",{key:0,class:b(e(P).e("footer"))},[e(S)?(T(),De(e(ht),{key:0,text:"",size:"small",class:b(e(P).e("link-btn")),onClick:v},{default:se(()=>[Ue(fe(e(I)("el.datepicker.clear")),1)]),_:1},8,["class"])):pe("v-if",!0),F(e(ht),{plain:"",size:"small",class:b(e(P).e("link-btn")),disabled:e(Fe),onClick:y[10]||(y[10]=V=>e(N)(!1))},{default:se(()=>[Ue(fe(e(I)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):pe("v-if",!0)],2))}});var tl=Be(el,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const al=Ce({...oa}),nl=["pick","set-picker-option"],ll=({unlinkPanels:o,leftDate:c,rightDate:a})=>{const{t}=Ne(),f=()=>{c.value=c.value.subtract(1,"year"),o.value||(a.value=a.value.subtract(1,"year"))},p=()=>{o.value||(c.value=c.value.add(1,"year")),a.value=a.value.add(1,"year")},k=()=>{c.value=c.value.add(1,"year")},g=()=>{a.value=a.value.subtract(1,"year")},M=E(()=>`${c.value.year()} ${t("el.datepicker.year")}`),S=E(()=>`${a.value.year()} ${t("el.datepicker.year")}`),A=E(()=>c.value.year()),C=E(()=>a.value.year()===c.value.year()?c.value.year()+1:a.value.year());return{leftPrevYear:f,rightNextYear:p,leftNextYear:k,rightPrevYear:g,leftLabel:M,rightLabel:S,leftYear:A,rightYear:C}},sl=["onClick"],ol=["disabled"],rl=["disabled"],vt="year",ul=Ve({name:"DatePickerMonthRange"}),il=Ve({...ul,props:al,emits:nl,setup(o,{emit:c}){const a=o,{lang:t}=Ne(),f=He("EP_PICKER_BASE"),{shortcuts:p,disabledDate:k,format:g}=f.props,M=st(f.props,"defaultValue"),S=q(j().locale(t.value)),A=q(j().locale(t.value).add(1,vt)),{minDate:C,maxDate:h,rangeState:r,ppNs:w,drpNs:l,handleChangeRange:m,handleRangeConfirm:x,handleShortcutClick:P,onSelect:d}=ia(a,{defaultValue:M,leftDate:S,rightDate:A,unit:vt,onParsedValueChanged:ve}),$=E(()=>!!p.length),{leftPrevYear:N,rightNextYear:z,leftNextYear:G,rightPrevYear:I,leftLabel:Z,rightLabel:H,leftYear:ee,rightYear:oe}=ll({unlinkPanels:st(a,"unlinkPanels"),leftDate:S,rightDate:A}),K=E(()=>a.unlinkPanels&&oe.value>ee.value+1),te=(U,Y=!0)=>{const i=U.minDate,D=U.maxDate;h.value===D&&C.value===i||(h.value=D,C.value=i,Y&&x())},ce=U=>U.map(Y=>Y.format(g));function ve(U,Y){if(a.unlinkPanels&&Y){const i=(U==null?void 0:U.year())||0,D=Y.year();A.value=i===D?Y.add(1,vt):Y}else A.value=S.value.add(1,vt)}return c("set-picker-option",["formatToString",ce]),(U,Y)=>(T(),L("div",{class:b([e(w).b(),e(l).b(),{"has-sidebar":Boolean(U.$slots.sidebar)||e($)}])},[B("div",{class:b(e(w).e("body-wrapper"))},[rt(U.$slots,"sidebar",{class:b(e(w).e("sidebar"))}),e($)?(T(),L("div",{key:0,class:b(e(w).e("sidebar"))},[(T(!0),L(be,null,_e(e(p),(i,D)=>(T(),L("button",{key:D,type:"button",class:b(e(w).e("shortcut")),onClick:R=>e(P)(i)},fe(i.text),11,sl))),128))],2)):pe("v-if",!0),B("div",{class:b(e(w).e("body"))},[B("div",{class:b([[e(w).e("content"),e(l).e("content")],"is-left"])},[B("div",{class:b(e(l).e("header"))},[B("button",{type:"button",class:b([e(w).e("icon-btn"),"d-arrow-left"]),onClick:Y[0]||(Y[0]=(...i)=>e(N)&&e(N)(...i))},[F(e(he),null,{default:se(()=>[F(e(it))]),_:1})],2),U.unlinkPanels?(T(),L("button",{key:0,type:"button",disabled:!e(K),class:b([[e(w).e("icon-btn"),{[e(w).is("disabled")]:!e(K)}],"d-arrow-right"]),onClick:Y[1]||(Y[1]=(...i)=>e(G)&&e(G)(...i))},[F(e(he),null,{default:se(()=>[F(e(ct))]),_:1})],10,ol)):pe("v-if",!0),B("div",null,fe(e(Z)),1)],2),F(Yt,{"selection-mode":"range",date:S.value,"min-date":e(C),"max-date":e(h),"range-state":e(r),"disabled-date":e(k),onChangerange:e(m),onPick:te,onSelect:e(d)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),B("div",{class:b([[e(w).e("content"),e(l).e("content")],"is-right"])},[B("div",{class:b(e(l).e("header"))},[U.unlinkPanels?(T(),L("button",{key:0,type:"button",disabled:!e(K),class:b([[e(w).e("icon-btn"),{"is-disabled":!e(K)}],"d-arrow-left"]),onClick:Y[2]||(Y[2]=(...i)=>e(I)&&e(I)(...i))},[F(e(he),null,{default:se(()=>[F(e(it))]),_:1})],10,rl)):pe("v-if",!0),B("button",{type:"button",class:b([e(w).e("icon-btn"),"d-arrow-right"]),onClick:Y[3]||(Y[3]=(...i)=>e(z)&&e(z)(...i))},[F(e(he),null,{default:se(()=>[F(e(ct))]),_:1})],2),B("div",null,fe(e(H)),1)],2),F(Yt,{"selection-mode":"range",date:A.value,"min-date":e(C),"max-date":e(h),"range-state":e(r),"disabled-date":e(k),onChangerange:e(m),onPick:te,onSelect:e(d)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var cl=Be(il,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const dl=function(o){switch(o){case"daterange":case"datetimerange":return tl;case"monthrange":return cl;default:return Hn}};j.extend(Qa);j.extend(tn);j.extend(xa);j.extend(nn);j.extend(sn);j.extend(rn);j.extend(cn);j.extend(fn);var fl=Ve({name:"ElDatePicker",install:null,props:{...na,...vn},emits:["update:modelValue"],setup(o,{expose:c,emit:a,slots:t}){const f=Te("picker-panel");kt("ElPopperOptions",Ma(st(o,"popperOptions"))),kt(Rt,{slots:t,pickerNs:f});const p=q();c({focus:(M=!0)=>{var S;(S=p.value)==null||S.focus(M)},handleOpen:()=>{var M;(M=p.value)==null||M.handleOpen()},handleClose:()=>{var M;(M=p.value)==null||M.handleClose()}});const g=M=>{a("update:modelValue",M)};return()=>{var M;const S=(M=o.format)!=null?M:Ia[o.type]||nt,A=dl(o.type);return F(Fa,Gt(o,{format:S,type:o.type,ref:p,"onUpdate:modelValue":g}),{default:C=>F(A,C,null),"range-separator":t["range-separator"]})}}});const mt=fl;mt.install=o=>{o.component(mt.name,mt)};const yl=mt,bl="DD/MM/YYYY";export{yl as E,bl as V};
