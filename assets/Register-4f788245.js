import{d as g,a as f,e as B,a2 as U,f as a,M as h,r as _,c as V,g as t,y as k,b as i,bC as S,E as x,q as Q,p as D,k as Y,u as q,_ as F,bD as M}from"./index-43fa284a.js";/* empty css                     */import{E as y}from"./index-4dd40978.js";import{U as K}from"./http-7590b1ae.js";import{c as $,e as G}from"./validate-14f65514.js";import{E as j,a as T}from"./index-c461f170.js";import{b as X,a as H}from"./index-45ffb881.js";import"./event-9519ab40.js";import"./validator-183bd9e8.js";const E=g({__name:"EInputText",props:{modelValue:{default:null},disabled:{type:Boolean,default:!1},placeholder:{default:""}},emits:["update:modelValue","change"],setup(r,{emit:m}){const p=r,o=e=>/\d/.test(e),u=e=>{e&&!o(e)||m("update:modelValue",e.trim()||"")};return(e,b)=>{const A=y;return f(),B(A,{"model-value":p.modelValue,placeholder:p.placeholder,disabled:p.disabled,type:"text",onInput:u},U({_:2},[e.$slots.prepend?{name:"prepend",fn:a(()=>[h(e.$slots,"prepend")]),key:"0"}:void 0,e.$slots.append?{name:"append",fn:a(()=>[h(e.$slots,"append")]),key:"1"}:void 0,e.$slots.prefix?{name:"prefix",fn:a(()=>[h(e.$slots,"prefix")]),key:"2"}:void 0]),1032,["model-value","placeholder","disabled"])}}}),O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAATCAYAAACUef2IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADtSURBVHgBvZQ7CsJAEEBns4FoFAnGwjKNYukR9Ah2th7BG+hNcguxEm+QWotYWvgJgqKEZJ0IhiQGsmtWX7HMDMtjGHaHQgE1o9Ov1s2Fprfaj9txDZyQIimlZIW3jCi/HDYEOFF4pcgcBCC8Uux2BmXEMqQfYlnSlFimNBbLlsbihtl1MbIS1R18C2NeQGBCDKNnhWrogkQYY/a743NiDOU6RgKfjdRXELBhasYMbJyx0IfIQqPDv5/2qtZcKoSMUV7B0kDTTRDZDbniX8hpMpEpp9mCLDnNK8qQ/38fR1y9rRM9RQwd7GEKAjwBptJ47R5BpGYAAAAASUVORK5CYII=",d=r=>(D("data-v-633d551f"),r=r(),Y(),r),W={class:"form p-32"},Z=d(()=>i("img",{src:O,alt:"",class:"mb-24"},null,-1)),J=d(()=>i("div",{class:"form__title mb-24"},"Đăng ký",-1)),L=d(()=>i("i",{class:"icon-lock"},null,-1)),P=d(()=>i("i",{class:"icon-lock"},null,-1)),z=d(()=>i("i",{class:"icon-lock"},null,-1)),ee=g({__name:"RegisterForm",emits:["submit"],setup(r,{emit:m}){const p=_(),o=_({email:"",fullName:"",phone:"",role:"",status:"ACTIVE",password:""}),u=_(!1),e=q(),b=_({fullName:[$({required:!0,trigger:"change"})],password:[G({required:!0,trigger:"change"})]}),A=async v=>{v&&await v.validate(async l=>{if(l){u.value=!0;try{const{statusCode:s,data:c}=await S.createIcheckAccount(o.value);if(s===K)return x({message:"Số điện thoại này đã đăng ký tài khoản iCheck",type:"error"});if(s==="200")return m("submit",{phone:o.value.phoneNumber||"",token:c.token||""})}catch(s){console.log(s)}finally{u.value=!1}}})},N=()=>e.pushByPath("/auth/login");return(v,l)=>{const s=j,c=X,w=H,C=y,I=T,R=Q;return f(),V("div",W,[Z,J,t(I,{ref_key:"formRef",ref:p,model:o.value,rules:b.value,"label-position":"top"},{default:a(()=>[t(s,{required:"",class:"mb-18",prop:"fullName"},{default:a(()=>[t(E,{placeholder:"Họ và tên",modelValue:o.value.fullName,"onUpdate:modelValue":l[0]||(l[0]=n=>o.value.fullName=n)},{prefix:a(()=>[L]),_:1},8,["modelValue"])]),_:1}),t(s,{required:"",class:"mb-24",prop:"email"},{default:a(()=>[t(E,{placeholder:"Email",modelValue:o.value.email,"onUpdate:modelValue":l[1]||(l[1]=n=>o.value.email=n)},{prefix:a(()=>[P]),_:1},8,["modelValue"])]),_:1}),t(w,{style:{width:"100%"},class:"mb-24",placeholder:"Đối tượng áp dụng",modelValue:o.value.role,"onUpdate:modelValue":l[2]||(l[2]=n=>o.value.role=n)},{default:a(()=>[t(c,{label:"Quản lý",value:"manager"}),t(c,{label:"Nhân viên",value:"staff"})]),_:1},8,["modelValue"]),t(s,{required:"",class:"mb-24",prop:"password"},{default:a(()=>[t(C,{type:"password",placeholder:"Mật khẩu",modelValue:o.value.password,"onUpdate:modelValue":l[3]||(l[3]=n=>o.value.password=n),"show-password":""},{prefix:a(()=>[z]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),t(R,{type:"primary",class:"mb-24 w-full form__btn",onClick:l[4]||(l[4]=n=>A(p.value)),loading:u.value},{default:a(()=>[k("Đăng ký ")]),_:1},8,["loading"]),i("div",{class:"form__note"},[k(" Bạn đã có tài khoản iCheck? "),i("span",{class:"form__redirect",onClick:N},"Đăng nhập")])])}}});const oe=F(ee,[["__scopeId","data-v-633d551f"]]),le={class:"register"},me=g({__name:"Register",setup(r){return(m,p)=>(f(),V("div",le,[(f(),B(M,null,[t(oe)],1024))]))}});export{me as default};
